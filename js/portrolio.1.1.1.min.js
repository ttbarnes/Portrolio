(function(b){var a={init:function(c){var d=b.extend({columnsNo:3,columnsDiy:false,activeHoverStates:{dim:true,dimOnly:false,toolTip:true,toolTipFixedBtm:false,toolTipSlide:true},pageSelectors:{header:"div.header",footer:"div.footer"},clrSchemes:true,clrScheme:{darkBlue:true}},c);return this.each(function(){var l=b(this).children("div.streamInnerWrapper");var h=l.children("div.item");var g=h.children("img")[0];var n=b("img").height();var m=[2,3,6];var f=d.columnsNo;i=m;if(d.columnsDiy==false){var j=d.columnsNo;if(d.columsNoResult==m[i]){if(d.columnsNo==2){l.addClass("col2")}else{if(d.columnsNo==3){l.addClass("col3")}else{if(d.columnsNo==6){l.addClass("col6")}else{console.log("error - please enter 2, 3 or 6 columns");l.hide()}}}}else{console.log("error - please enter 2, 3 or 6 columns");l.hide()}}function r(){h.each(function(){if(d.activeHoverStates.dim==true||d.activeHoverStates.dimOnly==true){l.addClass("dimActive");b(this).hover(function(v){h.addClass("active");var u=b(this);b(u).addClass("hovered")},function(u){h.removeClass("active");b(this).removeClass("hovered")})}if(d.activeHoverStates.toolTip==true){l.addClass("dimActive");l.addClass("ttipTitleActive");if(b(this).find("span.title").length>0){b(this).hover(function(w){var v=b(this);var u=b('<div class="toolTip"><span class="bg"/></div>').appendTo(this);b("div.toolTip").show();b(v).children("span.title").appendTo("div.toolTip")},function(u){h.removeClass("active");b(this).removeClass("hovered");b("div.toolTip span.title").appendTo(this);b("div.toolTip").remove();b(this).removeClass("hovered");b("div.toolTip").hide()})}}if(d.activeHoverStates.toolTipSlide==true){b(this).hover(function(v){var u=b(this);b("div.toolTip").addClass("toolTipSlideIn").animate({bottom:"0"},200)},function(u){b("div.toolTip").animate({bottom:"-25px"})})}if(d.activeHoverStates.toolTipFixedBtm==true){b(l).addClass("toolTipFixedBtm")}if(d.activeHoverStates.dim==false||d.activeHoverStates.dimOnly==true){l.addClass("dimActive");b(this).hover(function(v){h.addClass("active");var u=b(this);b(u).addClass("hovered")},function(u){h.removeClass("active");b(this).removeClass("hovered")})}if(d.activeHoverStates.dim==false){if((l).hasClass("dimActive")){l.removeClass("dimActive")}}})}var t=function t(){var u=b('<div class="overlay overlayTop"/>',{id:"streamOverlayTop"}).insertBefore(l.children(":eq(0)"));var v=b('<div class="overlay overlayBtm"/>',{id:"streamOverlayBtm"}).appendTo(l)};function q(){var w=b("div.overlayTop");var z=b("div.overlayBtm");var v=d.pageSelectors.header;var u=d.pageSelectors.footer;var x=b(l).find("div.item:last");var y=b(l).find("div.item:eq(2)");x.addClass("last");b(v).bind("inview",function(A,B){if(B){b(w).css({position:"absolute",top:"0"});b(z).css({display:"none"})}else{b(w).css({position:"fixed",top:"0"});b(z).css({display:"block",position:"fixed",bottom:"0"})}});b(y).bind("inview",function(A,B){if(B){b(z).css({position:"fixed",bottom:"0"})}});b(x).bind("inview",function(A,B){if(B){b(z).css({position:"absolute",bottom:"0"})}else{b(z).css({position:"fixed",bottom:"0"})}});b(u).bind("inview",function(A,B){if(B){b(w).css({position:"absolute",top:"0"})}else{b(w).css({position:"fixed",top:"0"})}})}if(d.clrSchemes==true){if(d.clrScheme.lightBlue==true){l.addClass("clrSchemeLightBlue")}else{if(d.clrScheme.darkBlue==true){l.addClass("clrSchemeDarkBlue")}else{if(d.clrScheme.black==true){l.addClass("clrSchemeBlack")}else{if(d.clrScheme.white==true){l.addClass("clrSchemeWhite")}else{if(d.clrScheme.grey==true){l.addClass("clrSchemeGrey")}else{if(d.clrScheme.none==true){l.addClass("clrSchemeNone")}}}}}}}function p(){var x=b(window).height();var u=b("div.overlay");var v=b("img");if(d.columnsNo==2){var w=x*0.477;b("div.overlay").css({height:w,"max-height":w});b("div.item img").css({height:w,"max-height":w})}else{if(d.columnsNo==3){var w=x*0.333;b("div.overlay").css({height:w,"max-height":w});b("div.item img").css({height:w,"max-height":w})}else{if(d.columnsNo==6){var w=x*0.161;b("div.overlay").css({height:w,"max-height":w});b("div.item img").css({height:w,"max-height":w})}}}}function e(){var u=b("div.overlay");var v=b("img");u.remove();if(b(v).height==("auto")){}else{v.height("auto")}}function o(){enquire.register("screen and (min-width:768px)",{match:function(){e();r()}}).register("screen and (max-width:768px)",{match:function(){h.unbind("mouseenter mouseleave");l.removeClass("dimActive");l.removeClass("toolTipSlideIn")}}).register("screen and (min-width:480px)",{match:function(){}}).register("screen and (max-width:480px)",{match:function(){if(b("div.toolTip").length>0){b("div.toolTip").remove()}h.hide().fadeIn(300);t();p();q()}}).listen()}o();var k=(function(){var u=0;return function(w,v){clearTimeout(u);u=setTimeout(w,v)}})();b(window).resize(function(){k(function(){function u(){enquire.register("screen and (min-width:480px)",{match:function(){e()}}).register("screen and (max-width:480px)",{match:function(){p()}}).listen()}u()},500)});var s=b('<div id="loading">loading...</div>',{}).insertBefore(l);s.show();l.hide();var g=b("div.item img");g.load(function(){s.hide();l.fadeIn(800)})})}};b.fn.Portrolio=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Error!")}}};return this})(jQuery);