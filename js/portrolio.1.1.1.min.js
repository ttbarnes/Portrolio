/*
	* Portrolio 1.1.1
	* A responsive portfolio layout with vertical overlay, dynamic height calculation/resizing, tooltips, colour schemes and more
	* URL to go here
	*
	* Author: Tony Barnes
	* http://tonybarnes.me
	* No license or copyright - do what you like
	*
	* Last updated: 21/07/2013
	* Reqruiments: 
	* 1: jQuery 2.0 (http://jquery.com/download/)
	* 2: Media.match (https://github.com/weblinc/media-match)
	* 3: Inview (http://github.com/protonet/jquery.inview)
	*
*/
(function(b){var a={init:function(c){var d=b.extend({columnsNo:3,columnsDiy:false,activeHoverStates:{dim:true,dimOnly:false,toolTip:true,toolTipSlide:true},pageSelectors:{header:"div.header",footer:"div.footer"},colorScheme:{black:true}},c);return this.each(function(){var m=b(this).children("div.portrolioInnerWrapper");var j=m.children("div.item");var h=j.children("img")[0];var p=b("img").height();var o=[3,6];var f=d.columnsNo;i=o;if(d.columnsDiy==false){var k=d.columnsNo;if(d.columsNoResult==o[i]){if(d.columnsNo==3){m.addClass("col3")}else{if(d.columnsNo==6){m.addClass("col6")}else{console.log("error - please enter 3 or 6 columns");m.hide()}}}else{console.log("error - please enter 3 or 6 columns");m.hide()}}function n(){if(d.activeHoverStates.dim==true||d.activeHoverStates.dimOnly==true){m.addClass("dimActive")}}function g(){b(j).bind({mouseenter:function(w){j.addClass("active");var v=b(this);b(v).addClass("hovered")},mouseout:function(v){j.removeClass("active");b(this).removeClass("hovered")}})}function u(){m.addClass("ttipTitleActive");ttipSetting001=d.activeHoverStates.toolTip==true;ttipSetting002=d.activeHoverStates.toolTip==false;ttipSetting003=d.activeHoverStates.toolTipSlide==true;ttipSetting004=d.activeHoverStates.toolTipSlide==false;switch(true){case ttipSetting003:b(j).bind({mouseenter:function v(y){var x=b(this);if(b(x).find("span.title").length>0){var w=b('<div class="toolTip toolTipSlideIn"><span class="bg"/></div>').appendTo(this);b("div.toolTip").show().animate({bottom:"0"},40);b(x).children("span.title").appendTo("div.toolTip")}},mouseleave:function(w){j.removeClass("active");b(this).removeClass("hovered");b("div.toolTip span.title").appendTo(this);b("div.toolTip").remove();b(this).removeClass("hovered");b("div.toolTip").animate({bottom:"-25px"}).hide()}});break;case ttipSetting001:case ttipSetting004:b(j).bind({mouseenter:function v(y){var x=b(this);if(b(x).find("span.title").length>0){var w=b('<div class="toolTip"><span class="bg"/></div>').appendTo(this);b("div.toolTip").show();b(x).children("span.title").appendTo("div.toolTip")}},mouseleave:function(w){j.removeClass("active");b(this).removeClass("hovered");b("div.toolTip span.title").appendTo(this);b("div.toolTip").remove();b(this).removeClass("hovered");b("div.toolTip").hide()}});break}}var t=function t(){var v=b('<div class="overlay overlayTop"/>',{id:"portrolioOverlayTop"}).insertBefore(m.children(":eq(0)"));var w=b('<div class="overlay overlayBtm"/>',{id:"portrolioOverlayBtm"}).appendTo(m)};function s(){var x=b("div.overlayTop");var A=b("div.overlayBtm");var w=d.pageSelectors.header;var v=d.pageSelectors.footer;var y=b(m).find("div.item:last");var z=b(m).find("div.item:eq(2)");y.addClass("last");b(w).bind("inview",function(B,C){if(C){b(x).css({position:"absolute",top:"0"});b(A).css({display:"none"})}else{b(x).css({position:"fixed",top:"0"});b(A).css({display:"block",position:"fixed",bottom:"0"})}});b(z).bind("inview",function(B,C){if(C){b(A).css({position:"fixed",bottom:"0"})}});b(y).bind("inview",function(B,C){if(C){b(A).css({position:"absolute",bottom:"0"})}else{b(A).css({position:"fixed",bottom:"0"})}});b(v).bind("inview",function(B,C){if(C){b(x).css({position:"absolute",top:"0"})}else{b(x).css({position:"fixed",top:"0"})}})}if(d.colorScheme=="lightBlue"){m.addClass("clrSchemeLightBlue")}else{if(d.colorScheme=="darkBlue"){m.addClass("clrSchemeDarkBlue")}else{if(d.colorScheme=="black"){m.addClass("clrSchemeBlack")}else{if(d.colorScheme=="white"){m.addClass("clrSchemeWhite")}else{if(d.colorScheme=="grey"){m.addClass("clrSchemeGrey")}else{if(d.colorScheme=="none"){m.addClass("clrSchemeNone")}else{m.addClass("clrSchemeBlack")}}}}}}function r(){var A=b(window).height();var v=b("div.overlay");var w=b("img");if((d.columnsNo==2)||(d.columnsNo==3)){var z=A*0.333;b("div.overlay").css({height:z,"max-height":z});b("div.item img").css({height:z,"max-height":z})}else{if(d.columnsNo==6){var y=A*0.161;var x=y*2;b("div.overlay").css({height:x,"max-height":x});b("div.item img").css({height:x,"max-height":x})}}}function e(){var v=b("div.overlay");var w=b("img");v.remove();w.css({height:"auto","max-height":"none"})}function q(){var y=window.matchMedia("screen and (min-width: 768px)");var x=window.matchMedia("screen and (max-width: 768px)");var w=window.matchMedia("screen and (min-width: 480px)");var v=window.matchMedia("screen and (max-width: 480px)");if(y.matches){e();g();n();var z=d.activeHoverStates.toolTip;if(z!=false){u()}}if(x.matches){m.removeClass("dimActive");m.removeClass("ttipTitleActive")}if(v.matches){m.removeClass("ttipTitleActive");j.hide().fadeIn(300);t();r();s()}}q();var l=(function(){var v=0;return function(x,w){clearTimeout(v);v=setTimeout(x,w)}})();b(window).resize(function(){l(function(){function v(){var y=window.matchMedia("screen and (min-width: 768px)");var x=window.matchMedia("screen and (min-width: 480px)");var w=window.matchMedia("screen and (max-width: 480px)");if(y.matches){b(j).bind("mouseenter");g();n();var z=d.activeHoverStates.toolTip;if(z!=false){u()}}if(x.matches){b("div.toolTip").remove();e()}if(w.matches){b(j).unbind("mouseenter").hide().fadeIn(300);t();r();s()}}v()},500)})})}};b.fn.Portrolio=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Portrolio Error! Something has gone wrong. Please see the original codebase, or contact the author")}}};return this})(jQuery);